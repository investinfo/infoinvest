var _tmr=_tmr||[];!function(){function e(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)}function t(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)}function n(e,t){try{if(e.nodeName.toLowerCase()===t.toLowerCase())return e;if(e.parentNode)return n(e.parentNode,t)}catch(e){te&&console.warn("[TopMailRu] Error#1.25",e)}return null}function r(e,t){if(null===e.offsetParent||0==e.offsetHeight||0==e.offsetWidth||0==e.clientHeight||0==e.clientWidth||t&&(0==e.offsetLeft||0==e.offsetTop))return!1;if(void 0!==q.getComputedStyle){var n=q.getComputedStyle(e,null);return"none"!==n.display&&"hidden"!==n.visibility}return!0}function a(e,t){for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1}function o(e){var t=typeof e;return!("number"===t||"boolean"===t||"string"===t||e.nodeType||e===e.window)}function i(e){return"[object Array]"===Object.prototype.toString.call(e)}function l(){var e,t,n,r,a,c=arguments,s=c[0]||{},u=!1,p=1,d=c.length;for("boolean"==typeof s&&(u=s,s=c[p++]||{}),o(s)||(s={});p<d;p++)if(null!=(e=c[p]))for(t in e)n=s[t],s!==(r=e[t])&&(u&&r&&(o(r)||(a=i(r)))?(a?(a=!1,n=n&&i(n)?n:[]):n=n&&o(n)?n:{},s[t]=l(u,n,r)):void 0!==r&&(s[t]=r));return s}function c(e){return(""+e).replace(/[\/\^\$\*\+\?\.\|\(\)\[\]\{\}\\]/g,"\\$&")}function s(e){var t="";try{var n=new Uint8Array(e);q.crypto.getRandomValues(n);for(var r=0;r<e;r++)t+=(n[r]%16).toString(16)}catch(a){for(t="",r=0;r<e;r++)t+=(n=Math.floor(16*Math.random())).toString(16)}return t}function u(){return(new Date).getTime()}function p(n,r){var a,o={data:r,raw:n,url:"https://top-fwz1.mail.ru"+n};if(a=!0,"function"!=typeof navigator.sendBeacon)a=!1;else{o.dataSplitter=";";var i=_(o.data,o.dataSplitter);try{a=!0===navigator.sendBeacon(o.url,i)}catch(e){a=!1}}a||(void 0===r?(o.dataSplitter=";",o.open=h,o.connect=g,o.startListen=y,o.stopListen=b,o.open(o),o.connect(o)):("function"==typeof q.XMLHttpRequest?(o.dataSplitter=";",o.open=d,o.connect=f,o.startListen=m,o.stopListen=v,o.open(o),o.connect(o),a=!0):a=!1,a||function(n){var r=F.createElement("iframe"),a=F.createElement("div");a.setAttribute("style","position: absolute !important; top: -9999px !important; left: -9999px !important; width: 1px !important; height: 1px !important;"),a.appendChild(r),F.body.appendChild(a);try{var o,i=r.contentWindow.document,l=i.createElement("div");for(o in n.data)if(n.data.hasOwnProperty(o)){var c=n.data[o],s=typeof c;if("string"===s||"number"===s){var u=i.createElement("input");u.setAttribute("type","hidden"),u.setAttribute("name",o),u.value=c,l.appendChild(u)}}var p=i.createElement("form");p.setAttribute("action",n.url),p.setAttribute("method",de),p.setAttribute("enctype",fe),p.appendChild(l);var d=i.createElement("div");d.appendChild(p),i.body.appendChild(d);var f=function(){try{t(r,"load",f),F.body.removeChild(a)}catch(e){te&&console.warn("[TopMailRu] Error#1.2",e)}};e(r,"load",f),p.submit()}catch(e){te&&console.warn("[TopMailRu] Error#1.3",e)}}(o)))}function d(e){e._connection=new q.XMLHttpRequest}function f(e){e._connection.open(de,e.url),e._connection.setRequestHeader("Content-Type",fe),e._connection.send(_(e.data,e.dataSplitter))}function m(t){e(t._connection,"load",t._onload),e(t._connection,"error",t._onerror)}function v(e){t(e._connection,"load",e._onload),t(e._connection,"error",e._onerror)}function h(e){e._connection=new Image}function g(e){e._connection.src=e.url+_(e.data,e.dataSplitter)}function y(e){e._connection.onload=e._onload,e._connection.onerror=e._onerror}function b(e){e._connection.onload=null,e._connection.onerror=null}function _(e,t){var n,r=t||";",a="";for(n in e)if(e.hasOwnProperty(n)){var o=e[n],i=typeof o;"string"!==i&&"number"!==i||(a+=r+escape(n)+"="+escape(o))}return a}function k(e){return(e=F.cookie.match(RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)")))?decodeURIComponent(e[1]):null}function w(e,t,n){var r=(n=n||{}).expires;for(var a in"number"==typeof n.expires&&(r=new Date).setTime(r.getTime()+n.expires),r&&r.toUTCString&&(r=r.toUTCString()),n.expires=r,e=e+"="+encodeURIComponent(t),n)((t=n[a])||0===t)&&(e+="; "+a,!0!==t&&(e+="="+t));F.cookie=e}function E(e,t){var n=t||{};n.expires=-1,w(e,"",n)}function T(e){try{return ve.getItem(e)}catch(e){te&&console.warn("[TopMailRu] Error#1.5",e)}return null}function x(e,t){try{ve.setItem(e,t)}catch(e){te&&console.warn("[TopMailRu] Error#1.6",e)}}function R(e,t){me&&w(e,t,ge),he&&x(e,t)}function I(e){var t=";e="+escape("detect");p(P(e,"/tracker",!1,!1)+t)}function S(e,t){if(e.length&&null!==t.ecom_data&&!(4096<(n=(n=ue(t.ecom_data))?(""+n).substring(1,n.length-1):"").length||-1===n.search(/\S/))){var n="{"+n+M("_m",t.ecom_method)+M("_t",t.ecom_type)+M("_jst",Oe())+"}";p(P({id:e[0]},"/datalayer",!1,!0)+";ids="+escape(e.join())+";e="+escape(n))}}function M(e,t){var n=',"'+e+'":';if(!t||!t.length)return n+"[]";try{return n+'["'+t.join('","')+'"]'}catch(e){}return n+"false"}function A(){}function C(e){e&&"object"==typeof e&&!tt&&"id"in e&&(tt=e.id)}function O(e){return(e=ft?ft[e]:void 0)&&ht?e-ht:void 0}function L(){if(ft){for(var e=0,t="domInteractive domContentLoadedEventStart domContentLoadedEventEnd domComplete loadEventStart loadEventEnd".split(" "),n=0;n<t.length;n++){var r=ft?ft[t[n]]:void 0;0<r&&(r<e||0==e)&&(e=r)}return e||void 0}}function j(e){return e&&"object"==typeof e&&("id"in e&&e.id||tt)}function P(e,t,n,r){he&&x(Xe,++Ke);var a,o="id"in e?e.id:tt,i="url"in e?e.url:W.href,l="referrer"in e?e.referrer:F.referrer,c="title"in e?e.title:F.title;null===(a=_e)&&(a=function(){var e=k(we);if(null===e)return null;if(2!==(e=e.split("|")).length)return null;var t=e[1];return 0>(t=u()-t)||t>ke?null:(e=parseInt(e[0],10),isNaN(e)?null:e)}()),a=null!==a?a?1:0:null;var s,p="userid"in e?e.userid:Fe||0===Fe?Fe:void 0,d=We||void 0;s=se&&e.bfCache;var f=[];tt&&o!==tt&&f.push("sec"),"dataLayer"in q&&f.push("dl"),Te&&f.push(["ecom"].concat(Te).join("-")),(v=Le())&&v.length&&f.push(["jst"].concat(v).join("-")),s&&f.push("bfc"),s=f.join(",");var m=q.screen,v=(f=(new Date).getTimezoneOffset(),"");if(q.Intl)try{v=q.Intl.DateTimeFormat().resolvedOptions().timeZone||""}catch(e){te&&console.warn("[TopMailRu] Error#1.1",e)}if(v=f+"/"+v,f=null!==(f=Ne)?f:function(){var e=k(Pe);if(null===e)return null;if(3!==(e=e.split("|")).length)return null;var t=e[2];return 0>(t=u()-t)||t>je?null:{id:e[0],version:e[1]}}(),e.start=L(),t=t+"?js=13"+(o?";id="+escape(o):"")+(i?";u="+escape(i):"")+(l?";r="+escape(l):"")+(e.start?";st="+escape(e.start):"")+("gender"in e?";gender="+escape(e.gender):"")+("age"in e?";age="+escape(e.age):"")+("pid"in e?";pid="+escape(e.pid):"")+(void 0!==p?";userid="+escape(p):"")+(void 0!==d?";uparams="+escape(ue(d)):"")+(r&&c?";title="+encodeURIComponent(c):"")+(m?";s="+m.width+"*"+m.height:"")+";vp=",o=r=0,F.documentElement&&(F.documentElement.clientWidth||F.documentElement.clientHeight)?(r=F.documentElement.clientWidth,o=F.documentElement.clientHeight):"number"==typeof q.innerWidth&&(r=q.innerWidth,o=q.innerHeight),t=t+(r+"*")+o+";touch="+ct+";hds="+st+";frame="+ut+";flash=",null===pt)if(pt="",G.plugins&&G.plugins["Shockwave Flash"])pt=G.plugins["Shockwave Flash"].description.split(" ")[2];else if(q.ActiveXObject)try{var h=(h=(h=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version")).split(" ")[1].split(",");pt=h[0]+"."+h[1]}catch(e){te&&console.warn("[TopMailRu] Error#1.12",e)}if(h=t+pt+";sid="+Ge+";ver="+ze+";tz="+encodeURIComponent(v),n){if(ft&&mt){for((n=[]).push(mt.type),n.push(mt.redirectCount),n.push(ht),t=0;t<vt.length;t++)n.push(O(vt[t]));n=n.join("/")}else n="";n=";nt="+n}else n="";if(n=h+n+("device"in e?";device="+escape(e.device):"")+";ni=",G&&G.connection){for(h=G.connection,t=[],o=0;o<gt.length;o++){if(void 0!==(r=h[gt[o]]))switch(r){case!0:r=1;break;case!1:r=0;break;default:r=(""+r).replace(/\//g,"_")}t.push(r)}h=t.join("/")}else h="";return n+h+("params"in e?";params="+escape(ue(e.params)):"")+(null!==a?";detect="+a:"")+(me||he?";lvid="+escape([Ze,u(),Ke,Ye].join(":")):"")+(s?";opts="+escape(s):"")+(f?";flocid="+escape(f.id)+";flocv="+escape(f.version):"")+("version"in e?";appver="+escape(e.version):"")+(Ue.support?";visible="+Ue.getValue():"")+";_="+Math.random()}function N(e){e=";e="+escape("PVT/"+e);for(var t=0;t<nt.length;t++)p(P(nt[t],"/tracker",!1,!0)+e)}function U(){if(_e=!0,D(1),!oe&&!be){be=!0;for(var e=0;e<nt.length;e++)I(nt[e])}}function V(){D(0),_e=!1}function D(e){e=[e,u()].join("|"),w(we,e,{path:"/",expires:ke})}function $(){ne||setInterval((function(){_tmr.beat()}),6e4)}function B(){F.addEventListener?(t(F,"DOMContentLoaded",B),_tmr.onready()):F.attachEvent&&"complete"===F.readyState&&(t(F,"readystatechange",B),_tmr.onready())}function z(e){if(se){if(e.persisted){Je=qe=He=0,Tt=Et=!1,e=bt,bt=[];for(var n=0,r=e.length;n<r;n++)_tmr.callbackOnReady(e[n]);for(n in e=lt,lt={},e)_tmr.pageView(e[n]);$(),le&&Be.start()}}else t(q,"load",z);_tmr.onready(),_tmr.onload()}function H(){se||(t(q,"unload",H),t(q,"beforeunload",H)),_tmr.unload()}if("[object Array]"===Object.prototype.toString.call(_tmr)){var q=window,G=navigator,F=document,W=location,J="string"==typeof W.hostname?W.hostname:"",X=-1!=J.search(/(^|\.)odnoklassniki\.ru$/)||-1!=J.search(/(^|\.)ok\.ru$/),K=-1!=J.search(/(^|\.)vk\.com$/);J.search(/(^|\.)mail\.ru$/);var Y=-1!=J.search(/(^|\.)lamoda\.ru$/),Z=-1!=J.search(/(^|\.)kommersant\.ru$/),Q=-1!=J.search(/(^|\.)top\.mail\.ru$/);J.search(/(^|\.)journal\.tinkoff\.ru$/);var ee="string"==typeof W.search&&-1!=W.search.search(/[?&]rb_clickid=/),te="string"==typeof W.search&&-1!=W.search.search(/[?&]tmr_debug=1(?:&|$)/),ne=X||K||Y||Z,re=!ee,ae=X,oe=!1,ie=!(X||K),le=Q,ce=q.JSON&&q.JSON.stringify&&q.JSON.parse,se="onpageshow"in q&&"onpagehide"in q,ue=ce?q.JSON.stringify.bind(q.JSON):function(e){return""},pe=ce?q.JSON.parse.bind(q.JSON):function(e){return{}},de="POST",fe="application/x-www-form-urlencoded",me=!(0===W.hostname.search(/^(\d+.)+\d+$/g)||-1!==W.hostname.search(/:/g)),ve=null,he=function(){var e="tmr"+(""+Math.random()).slice(2);try{return(ve=q.localStorage||null).setItem(e,e),ve.removeItem(e),!0}catch(e){return ve=null,te&&console.warn("[TopMailRu] Error#1.4",e),!1}}(),ge={domain:function(){if(!me)return null;for(var e,t=W.hostname.split(".").reverse(),n=1,r=t.length;n<r;n++){e=t[0];for(var a=1;a<=n;a++)e=t[a]+"."+e;a=""+u();var o={domain:e,path:"/",expires:3e5};try{w("tmr_tcdhn",a,o);var i=k("tmr_tcdhn");if(E("tmr_tcdhn",o),i===a)return e}catch(e){te&&console.warn("[TopMailRu] Error#1.8",e)}}return null}(),path:"/",expires:287712e5};!function(){var e;if(e=F.cookie.match(RegExp("(?:^|; )(tmr_tcdhn\\d+)=([^;]*)","g"))){for(var t,n=[],r=0,a=e.length;r<a;r++)(t=(t=e[r]).match(/(?:^|; )(tmr_tcdhn\d+)=([^;]*)/))&&n.push(t.slice(1));e=n}else e=null;if(e)for(r=0,a=e.length;r<a;r++)E(n=e[r][0],ge)}();var ye,be=!1,_e=null,ke=864e5,we="tmr_detect",Ee=function(){function e(e,n){var r=F.createElement("div"),a=function(e,t){for(var n,r,a=e.length,o=0;o<t;o++)r=Math.floor(Math.random()*a),n=e[o],e[o]=e[r],e[r]=n;return e.slice(0,t)}(a=String.fromCharCode(97,100,118,98,108,111,99,107,32,97,100,118,101,114,116,98,108,111,99,107,32,97,100,118,101,114,116,66,108,111,99,107,32,98,45,114,98,32,98,97,110,110,101,114,95,50,52,48,32,112,45,116,97,114,103,101,116,32,112,117,98,95,51,48,48,120,50,53,48,32,112,117,98,95,51,48,48,120,50,53,48,109,32,112,117,98,95,55,50,56,120,57,48,32,114,98,95,98,111,100,121,32,114,98,45,102,108,111,97,116,105,110,103,32,114,98,45,115,108,111,116,32,114,98,45,118,105,100,101,111,45,119,105,100,103,101,116,32,116,101,120,116,45,97,100,32,116,101,120,116,45,97,100,45,108,105,110,107,115,32,116,101,120,116,45,97,100,115,32,116,101,120,116,45,98,97,110,110,101,114,32,116,101,120,116,95,97,100,32,116,101,120,116,95,97,100,115,32,116,101,120,116,65,100,32,116,101,120,116,97,100,32,116,101,120,116,65,100,115,32,116,101,120,116,97,100,115,32,116,103,98,45,98,97,110,110,101,114,32,116,114,103,45,98,45,98,97,110,110,101,114,45,98,108,111,99,107).split(" "),t);r.setAttribute("class",a.join(" ")),r.setAttribute("style","position: absolute !important; top: -9999px !important; left: -9999px !important; width: 1px !important; height: 1px !important;"),r.setAttribute("id","trg-b-banners-1"),r.setAttribute("data-view","SlotView.mimic"),this.bait=F.body.appendChild(r),this.bait.offsetParent,this.bait.offsetHeight,this.bait.offsetLeft,this.bait.offsetTop,this.bait.offsetWidth,this.bait.clientHeight,this.bait.clientWidth,this.loopNumber=0,this.fnPositive=e||null,this.fnNegative=n||null;var o=this;setTimeout((function(){o._checkBait.call(o)}),1)}var t=7;return e.prototype._checkBait=function(){if(be)this._stop();else{var e=null!==F.body.getAttribute("abp")||!r(this.bait,!0);if((!0===e||10<=++this.loopNumber)&&this._stop(),e&&this.fnPositive)try{(0,this.fnPositive)()}catch(e){te&&console.warn("[TopMailRu] Error#1.9",e)}else if(!e&&10>this.loopNumber){var t=this;setTimeout((function(){t._checkBait.call(t)}),50*this.loopNumber)}else try{(0,this.fnNegative)()}catch(e){te&&console.warn("[TopMailRu] Error#1.10",e)}}},e.prototype._stop=function(){try{F.body.removeChild(this.bait)}catch(e){te&&console.warn("[TopMailRu] Error#1.11",e)}},function(t,n){new e(t,n)}}(),Te=null,xe="ecommerce",Re="dataLayer",Ie=null,Se=!1,Me=[],Ae=[36383,2540645,3171181,3074137,2057653],Ce=[];!function(){function e(e,t){for(var n=0,r=t.length;n<r;n++)-1===e.indexOf(t[n])&&e.push(t[n])}function t(t,n,r){for(var a={ecom_method:[],ecom_type:[],ecom_data:{events:[]}},o=0,i=t.length;o<i;o++){var l=f[t[o]];if(l){e(a.ecom_method,[t[o]]);for(var c=0,s=l.length;c<s;c++)for(var u=0,p=r.length;u<p;u++){var d=l[c][r[u]];if(d)for(var m=0,v=n.length;m<v;m++)if(-1!==l[c].type.indexOf(n[m])){e(a.ecom_type,[n[m]]),e(a.ecom_data.events,d);break}}}}return a}function n(e,t,n){if(!e||!n||!(t in f))return null;for(var r,a=0,o=f[t].length;a<o;a++)if(n in(r=f[t][a])&&-1!==r[n].indexOf(e))return{ecom_method:[t],ecom_type:r.type.slice(),ecom_data:{}};return null}function r(e){for(var r,s,u=[],f=0,m=e.length;f<m;f++)if(s=e[f]){r=null;try{if(s.ecommerce)r=a(s)||o(s);else if(null===s.ecommerce)r=null;else if(s.event){var v={event:s.event,ecommerce:{}};r=a(v)||o(v)}else if("event"===s[0]){var h=s[1],g=s[2],y=n(h,l,p);y&&(y.ecom_data[h]=g),r=y}else if(s.event===xe)e:{for(var b=t([i],[c],[d]),_=0,k=b.ecom_data.events.length;_<k;_++)if(!s.hasOwnProperty(b.ecom_data.events[_])){r=null;break e}delete b.ecom_data.events,b.ecom_data[xe]=s,r=b}}catch(e){te&&console.warn("[TopMailRu] Error#1.23",e),r=null}r&&(u.push(r),Me.push(r))}if(u.length){for(e=0,r=u.length;e<r;e++)S(ot,u[e]);for(Te||(Te=[0,0,Re]),Te[0]+=u.length,r=e=0,f=u.length;r<f;r++)e+=ue(u[r].ecom_data).length;Te[1]+=e}}function a(e){var t,r;for(r in e.ecommerce)if(e.ecommerce.hasOwnProperty(r)&&(t=n(r,i,s))){if(e.event&&(r=n(e.event,i,u)))for(var a=0,o=t.ecom_type.length;a<o;a++)-1===r.ecom_type.indexOf(t.ecom_type[a])&&(t.ecom_type.splice(a,1),o--,a--);return t.ecom_data=e.ecommerce,t}return null}function o(e){var t=e.event,r=n(t,i,u);return r&&(r.ecom_data[t]=e.ecommerce),r}var i="push",l="gtag",c="gse",s="inner",u="outer",p="external",d="required",f={};f[l]=[{type:["gee"],external:"add checkout checkout_option checkout_progress click detail promo_click remove select_content set_checkout_option view_refund".split(" ")},{type:["ga4"],external:"earn_virtual_currency join_group level_end level_start level_up post_score select_content spend_virtual_currency tutorial_begin tutorial_complete unlock_achievement ad_impression login search share sign_up add_payment_info add_shipping_info add_to_wishlist generate_lead select_item select_promotion view_cart view_item_list".split(" ")},{type:["gee","ga4"],external:"add_to_cart begin_checkout purchase refund remove_from_cart view_item view_promotion".split(" ")}],f[i]=[{type:[c],required:["transactionId","transactionTotal"]},{type:["ga4"],outer:t([l],["ga4"],[p]).ecom_data.events},{type:["gee"],inner:"click checkout checkout_option impressions promoClick promoView refund".split(" "),outer:"addToCart checkout checkoutOption productClick productDetail ProductImpressions promotionClick promotionView removeFromCart transactionPush".split(" ")},{type:["ym","gee"],inner:["add","detail","purchase","remove"]}],ye=function(e){if(e!==Re||!Ie){e!==Re&&(Me=[]);var t=q[Re];t&&"function"==typeof t.push&&Ie&&(t.push=Ie,Ie=null),function(e){(e=q[e])&&"function"==typeof e.push&&(r(e),Ie=e.push,e.push=function(){var e=Ie.apply(this,arguments);return r([].slice.call(arguments,0)),e})}(e),Se=!0}}}();var Oe=(Ct=[{id:"gtag",globalVars:["google_tag_manager"]},{id:"ga",globalVars:["GoogleAnalyticsObject"]},{id:"ym",globalVars:["Ya",{re:"yaCounter\\d+"}]},{id:"vk",globalVars:["VK"]},{id:"vk",globalVars:["vkAsyncInit"]}],Ot={},function(){var e;try{e=Object.keys(q).join(",")}catch(t){e=null}for(var t,n=[],r=0,o=Ct.length;r<o;r++){if(void 0===(t=Ot[Ct[r].id]))e:{for(var i=e,l=0,c=(t=Ct[r].globalVars).length;l<c;l++){var s=t[l];if("string"==typeof s&&!(s in q)||"string"==typeof s.re&&(i&&-1===i.search(RegExp("($|,)"+s.re+"(,|^)","m"))||1===c)){t=!1;break e}}t=!0}t&&(Ot[Ct[r].id]=!0,a(Ct[r].id,n)||n.push(Ct[r].id))}return n}),Le=Oe,je=864e5,Pe="tmr_floc",Ne=null;!function(e){try{F.interestCohort&&"function"==typeof F.interestCohort&&F.interestCohort().then((function(e){Ne={id:e.id,version:e.version},e=[e.id,e.version];var t=u();e=e.concat(t).join("|"),w(Pe,e,{path:"/",expires:je})}),(function(){}))}catch(e){}}();var Ue={support:!1};(Ue=function(){function t(){o(l)}function n(){o(l,m)}function r(e){e.persisted&&(v[l]=null,v[c]=null,o(l,d))}function a(){return s?!F[s]:null}function o(e,t){var n=u(),r=void 0===t?a():t;if(null===v[e])v[e]={ts:n,state:r,total:0};else{var o=v[e];if(o.state!==r&&(o.state!==m||r===d)){var l=n-o.ts,c=o.state;o.ts=n,o.state=r,l<i||(c===d?(o.total+=l,h&&h(n,l)):c===f&&g&&g(n,l))}}}var i=5,l="auto",c="user",s=null,p=null,d=!0,f=!1,m=null;"hidden"in F?(s="hidden",p="visibilitychange"):"mozHidden"in F?(s="mozHidden",p="mozvisibilitychange"):"webkitHidden"in F?(s="webkitHidden",p="webkitvisibilitychange"):"msHidden"in F&&(s="msHidden",p="msvisibilitychange");var v={};v[l]=null;var h=v[c]=null,g=null;return{support:!!s,auto:function(a,o){h=a||null,g=o||null,s&&(t(),e(F,p,t)),se?(e(q,"pageshow",r),e(q,"pagehide",n)):(e(q,"beforeunload",n),e(q,"unload",n))},set:function(e){o(c,!!e)},getLog:function(){var e,t,n=u(),r={};for(t in v)e=v[t],r[t]=e?e.total:0,e&&e.state&&(r[t]+=n-e.ts);return r},getValue:a}}()).auto();var Ve={enabled:!1},De=function(){function e(e,n){var o;o=(""+e).match(r)||[];var i={};if(i[a]=o,o.length){for(var l=0,c=o.length;l<c;l++)o[l]&&(i[u[l]]=o[l]);o=i}else o=null;if(!o)return null;if((i=1<arguments.length&&void 0!==n)&&(-1!==p.indexOf(n)||!0===n)){l=o;for(var s=0,f=p.length;s<f;s++)(c=t(d[s]||"",l,s))&&(l[p[s]]=c)}return delete o[a],i&&!0!==n?o[n]||null:o}function t(e,n,r){var a,l="";if(o(e)&&"data"in e)l="index"in e?(n[e.data]||[])[e.index]||"":t(e.data,n,r),"re"in e&&(l=function(e,t,n){if(!e)return null;var r=e.match(t),a=2<arguments.length?n:0;return r&&r.length>a?r[a]:null}(l,e.re,e.reMatchIndex)||""),l&&(l=(a=t(e.pre||"",n,r))+l+(e=t(e.post||"",n,r)));else if(i(e)){a=0;for(var c=e.length;a<c;a++)l+=t(e[a],n,r)}else-1===(l=u.indexOf(e))&&((l=p.indexOf(e))>=r&&(l=-1)),l=-1!==l?n[e]||"":""+e;return l}var n=/^((mailto|tel|fax|modem)\:)(.*)$/,r=/^(?:([a-z]+):(?:([a-z]*):)?\/\/)?(?:([^:@]*)(?::([^:@]*))?@)?(?:((?:[a-z0-9_-]+\.)+[a-z]{2,}|localhost|(?:(?:[01]?\d\d?|2[0-4]\d|25[0-5])\.){3}(?:(?:[01]?\d\d?|2[0-4]\d|25[0-5]))))(?::(\d+))?(?:([^:\?\#]+))?(?:\?([^\#]+))?(?:\#([^\s]+))?$/i,a="_raw",l="hash",s=["href","protocol","contactBy","contactTo"],u=["href","scheme","subscheme","user","pass","hostname","port","pathname","query",l="hash"],p=["protocol","auth","host","domain","path","search",l,"fileExtension"],d=[{data:["scheme",{pre:":",data:"subscheme"}],post:":"},[{data:"user",post:{pre:":",data:"pass"}}],[{data:a,index:5,post:{pre:":",data:"port"}}],{data:"host",re:/^(?:w{3}.)?(.*)$/,reMatchIndex:1},["pathname",{pre:"?",data:"query"}],{pre:"?",data:"query"},{pre:"#",data:l},{data:"pathname",re:/.\.([^\.]+)$/,reMatchIndex:1}];return{parse:function(t,r){return t?n.test(""+t)?function(e,t){var r=(""+e).match(n),o={};o[a]=r;for(var i=0,l=r.length;i<l;i++)r[i]&&(o[s[i]]=r[i]);return r=1<arguments.length&&void 0!==t,delete o[a],r&&!0!==t?o[t]||null:o}(t,r):e(t,r):null},getIsDomainRE:function e(t){var n;if(i(t)){n=[];for(var r=0,a=t.length;r<a;r++)n.push(e(t[r]));return n}return(n=t instanceof RegExp?t:RegExp("^"+c(t)+"$")).test(De.parse(W.href,"domain"))?null:n},getDomainMask:function(e,t,n){t=(t&&0<t?t:2)-1;var r=1;return(r=(e=(""+e).replace(RegExp("^.*(?:\\.((?:[^\\.]+\\.){"+t+"}[^\\.]+$))"),"$1")).match(/\./g))&&(r=r.length),e="(?:^|\\.{"+(t-r+1)+"})"+c(e)+"$",RegExp(n?"^((?!"+e+").)*$":e)}}}(),$e=function(){var e="checkbox color date datetime-local email file month number password radio range search tel text time url week".split(" ");return{analyze:function(t){if(!t)return null;for(var n=[].slice.apply(t.elements),a=[],o=[],i=0,l=n.length;i<l;i++){var c;e:switch(c=n[i],c.tagName.toLowerCase()){case"button":c=!1;break e;case"input":var s=c.type.toLowerCase();if(s&&-1===e.indexOf(s)){c=!1;break e}default:c=r(c,!1)&&c.name&&!1===c.disabled}c&&(a.push(n[i].name),o.push(n[i].type))}return{node:t,inputsName:a.length?a:null,inputsType:o.length?o:null}},getFormByInput:function(e){return e?"string"==typeof(e=e.form||e.getAttribute("form"))?document.getElementById(e)||null:e instanceof HTMLElement?e:null:null}}}();Ve=function(){function t(e){var t=((e=e||q.event).which||e.keyCode)===T;if("which"in e&&e.which===E||"button"in e&&e.button&E||t){e:{e=e.target||e.srcElement;t=0;for(var a=p.length;t<a;t++){var o;t:{o=e;for(var c=p[t],g=0,y=c.types.length;g<y;g++){var b;n:{var k=o,x=null;if((b=c.types[g]).filter.tagName)for(var R=0,I=b.filter.tagName.length;R<I&&!(x=n(k,b.filter.tagName[R]));R++);else x=k;if(x){if(b.filter.attr)for(k in k=void 0,b.filter.attr)if(b.filter.attr.hasOwnProperty(k)&&(R=b.filter.attr[k],I=x[k],!0===R&&!I||!1===R&&I||i(R)&&-1===R.indexOf(I))){b=null;break n}b={source:x,type:b.type,detail:x.tagName}}else b=null}if(b){b.category=c.category,o=b;break t}}o=null}if(o){e=o;break e}}e=null}if(e){if(e.category===s){if(e.data=De.parse(e.source.href,!0),!e.data)return}else{if(e.category!==u)return;if(e.data=$e.analyze($e.getFormByInput(e.source)),!e.data)return}if((t=w).enabled&&t.modes)for(a=0,o=t.modes.length;a<o;a++)if(c=e,g=t.modes[a],c.category===g.mode)if(c.category===s||c.category===u){if(g=g.categories,c.data){y=void 0;e:{for(y=0,b=g.length;y<b;y++){x=c,k=g[y],R={category:c.category},I=[];for(var S=0,M=k.types.length;S<M;S++){var A,C=k.types[S],O=l({type:k.category},R),L=h in C;if(v in C?A=r(x,C,O,v):L&&(A=l({source:x.source,data:x.data,detail:C.type},O)),A&&(!L||!r(x,C,O,h))&&(I.push(A),(C.rule&_)!==_))break}if(x=I.length?I:null){y=x;break e}}y=null}if(y)for(c=0,g=y.length;c<g;c++)e:{if(x={type:"sendEvent",category:"_"+(b=y[c]).category,action:b.detail},b.category!==s||b.type!==d&&b.type!==f){if(b.category===m&&(x.label=b.data.node.action,!x.label))break e}else if(x.label=b.data.href,!x.label)break e;_tmr.push(x)}}}else te&&console.warn("[TopMailRu] Error#1.24","Not found tracking for type",c.type)}}}function r(e,t,n,r){var o=!1,c=t[r];if(i(c)){r=((s=t[r+"Rule"]||k)&g)===g;for(var s=(s&y)===y,u=0,p=c.length;u<p&&(o=a(e,c[u]),!r||!o);u++)if(s&&!o)return null}else o=a(e,c);return o?l({source:e.source,data:e.data,detail:t.type},n):null}function a(e,t){var n,r=((a=t.rule||k)&g)===g,a=(a&y)===y,o=!1;for(n in t)if(t.hasOwnProperty(n)&&"rule"!==n){o=t[n];var l=e.data[n];o=!0===o?!!(i(l)?l.length:l):!1===o?!(i(l)?l.length:l):c(l,o);if(r&&o)break;if(a&&!o)return!1}return o}function c(e,t){var n=e;if(!n)return!1;if(i(n)){if(!n.length)return!1}else n=[n];var r=t,a=k;if(o(r)&&!i(r)){if(!i(r.value))return!1;a=r.rule||a,r=r.value}e:{for(var l=(a&b)===b,c=(a&g)===g,s=(a=(a&y)===y,!1),u=0,p=r.length;u<p;u++){var d=r[u];if(d){var f="string"==typeof d;f&&!l&&(d=d.toLowerCase());var m=d instanceof RegExp;if(f||m){var v;s=!0;t:{for(var h=l,_=0,w=(v=n).length;_<w;_++){var E=h?v[_]:v[_].toLowerCase();if(m&&d.test(E)||f&&d===E){v=!0;break t}}v=!1}if(c&&v){n=!0;break e}if(a&&!v){n=!1;break e}}}}n=!c&&(a?!!s:void 0)}return n}var s="click",u="submit",p=[{category:u,types:[{type:"button",filter:{tagName:["input","button"],attr:{type:["submit","image"]}}}]},{category:s,types:[{type:"a",filter:{tagName:["a"],attr:{href:!0}}}]}],d="file",f="resource",m="submit",v="filter",h="stop",g=1,y=2,b=4,_=8,k=g,w={enabled:!0,modes:[{mode:u,categories:[{category:m,types:[{type:"lead",filter:[{inputsName:["phone"],inputsType:["tel"],rule:g},{inputsName:["email"],inputsType:["email"],rule:g}],filterRule:y,stop:{inputsName:{value:["password"]}}},{type:"form",filter:{inputsName:!0}}]}]},{mode:s,categories:[{category:"contact",types:[{type:"email",filter:{contactBy:["mailto"]}},{type:"phone",filter:{contactBy:["tel"]}}]},{category:d,types:[{type:"file",filter:{fileExtension:"7z bz2 gz apk iso cab dmg msi rar tar zip exe txt doc docx ppt pptx xls xlsx csv pdf psd rtf ods djvu eps 3gp aac ac3 avi flac flv divx midi mka mkv mp3 mp4 mpeg mpg mov ogg vob wav webm wma wmf wmv torrent".split(" ")}}]},{category:f,types:[{type:"outgoing",rule:_,stop:{domain:[De.getDomainMask(De.parse(W.href,"domain"),3,!1)],href:[/password/]}},{type:"messenger",filter:{domain:De.getIsDomainRE("vk.me t.me telegram.me telegram.im web.telegram.org m.me web.whatsapp.com api.whatsapp.com chat.whatsapp.com wa.me".split(" "))},stop:{href:[/password/]}},{type:"social",filter:{domain:De.getIsDomainRE("vk.com vkontakte.ru m.vk.com vk.ru ok.ru m.ok.ru odnoklassniki.ru facebook.com m.facebook.com fb.com twitter.com linkedin.com instagram.com tiktok.com youtube.com youtu.be m.youtube.com".split(" "))},stop:{href:[/password/]}}]}]}]},E=1,T=13;return{enabled:!0,start:function(){e(F,"click",t),e(F,"keypress",t)}}}();ie&&Ve.start();var Be=function(){function e(e){e=null===e?F.visibilityState:e,r(),d=e}function t(){!1!==S&&(S=!1,a(!0),q.removeEventListener("pagehide",g),g=null,q.clearInterval(f),f=null,F.removeEventListener("visibilitychange",m),m=null,q.removeEventListener("focus",v),q.removeEventListener("blur",h),h=v=null)}function n(e,t){if(e in E)return!1;var n=u();return E[e]={id:e+"_"+n,runInBackground:!!t,timespent:{},startTS:n,updateTS:n},R.push(e),!0}function r(e){var t=[].slice.call(arguments),n=b;0===t.length&&(t=R.concat(I),n=_),i(t=o(t,n))}function a(e){var t=[],n=[],r=!1;if(0<arguments.length){var a=arguments.length-1;t=[].slice.call(arguments,0,a);"boolean"==typeof(a=arguments[a])?r=a:t.push(a)}if(0===t.length)t=R.slice(),r&&(t=t.concat(I));else if(!r){for(n=t,t={auto:[],user:[]},r=0,a=n.length;r<a;r++){var l=n[r];-1!==I.indexOf(l)?t.auto.push(l):-1!==R.indexOf(l)&&t.user.push(l)}n=t.auto,t=t.user}if(t=o(t,k),n=o(n,b),(n=i(n=t.concat(n))).length)for(t=0,r=n.length;t<r;t++)(a=n[t])in E&&(delete E[a],-1!==(l=R.indexOf(a))&&R.splice(l,1),-1!==(a=I.indexOf(a))&&I.splice(a,1))}function o(e,t){for(var n=u(),r=[],a=[],o=(a=0,e.length);a<o;a++){var i,c=e[a];i=t;var p=n;c in E?!1===(c=E[c]).updateTS?i=i===k:(c.timespent[d]=(c.timespent[d]||0)+(p-(c.updateTS||s)),c.updateTS=i===b?p:i!==k&&null,i=!0):i=!1,i&&r.push(e[a])}if(t===_&&(s=n)-S>=C){if(a=l())for(o=0,i=a.length;o<i;o++)if((p=a[o])in E){var f;p=E[p];for(f in p.timespent)p.timespent[f]=0}S=n}return r}function i(e){for(var t=[],n=[],r=0,a=e.length;r<a;r++){var o,i=e[r];if(i in E){var l=(o=E[i]).id,s=!1!==o.updateTS;A[l]={id:i,timespent:o.timespent,runInBackground:o.runInBackground,isActive:s},o=!s&&l}else o=!1;!1!==o&&(t.push(i),n.push(o))}return!c(n)&&n.length&&he&&x(M,ue(A)||""),t}function l(){var e,t=[],n=[];for(e in E){var r=E[e].id;t.push(e),n.push(r)}return!!c(n)&&t}function c(e){if(!it.length)return!1;for(var t=[],n=[],r=0,a=e.length;r<a;r++){var o;if((o=e[r])in A){o=A[o];var i,l=Math.floor(o.timespent.visible/1e3),c=0;i=l;var s=void 0;for(s in o.timespent)s!==w&&(c+=o.timespent[s]);c=Math.floor(c/1e3),o.runInBackground&&(i+=c),o=o.id+"/"+l+"/"+c+"/"+i}else o=null;o&&n.push(o)}if(!n.length)return!1;for(e=";ids="+escape(it.join())+";e="+escape("TS:"+n.join(",")),p(P({id:it[0]},"/tracker",!1,!1)+e),r=0,a=t.length;r<a;r++)delete A[t[r]];return t.length&&he&&x(M,ue(A)||""),!0}var s,d,f,m,v,h,g,y=["pageView"],b=1,_=0,k=-1,w="visible",E={},R=[],I=[],S=!1,M="tmr_tslog",A={},C=6e4;return{init:function(){d=F.visibilityState,s=u(),l()},start:function(){if(!1===S){he&&(A=pe(T(M)||"{}")),S=u(),a(!0);for(var r=0,o=y.length;r<o;r++){var i=y[r];n(i,!1)&&(R.pop(),I.push(i))}g=t.bind(q),q.addEventListener("pagehide",g,!1),m=e.bind(q,null),f=q.setInterval(m,1e4),F.addEventListener("visibilitychange",m,!1)}},stop:t,startActivity:n,updateActivity:r,stopActivity:a}}(),ze="60.3.0",He=0,qe=0,Ge=s(16),Fe=null,We=null,Je=0,Xe="tmr_reqNum",Ke=null;me&&(null!==(Ke=k(Xe)||null)&&E(Xe,ge)),he&&null===Ke&&(Ke=T(Xe)||null),Ke=null===Ke?0:parseInt(Ke,10),he&&x(Xe,Ke);var Ye=(me?k("tmr_lvid"):null)||(he?T("tmr_lvid"):null),Ze=(me?k("tmr_lvidTS"):null)||(he?T("tmr_lvidTS"):null);null!==Ye&&-1!==Ye.search(/^[0-9a-fA-F]+$/)||(Ye=s(32)),R("tmr_lvid",Ye),null!==Ze&&-1!==Ze.search(/^\d+$/)||(Ze=""+u()),R("tmr_lvidTS",Ze);var Qe,et,tt=0,nt=[],rt=[],at=[],ot=[],it=[],lt={},ct="ontouchstart"in q||1<(G.maxTouchPoints||G.msMaxTouchPoints)?"1":"0",st=q.devicePixelRatio||0,ut=q.top===q?0:1,pt=null,dt=q.performance||q.mozPerformance||q.msPerformance||q.webkitPerformance||{},ft=dt.timing||{},mt=dt.navigation||{},vt="unloadEventStart unloadEventEnd redirectStart redirectEnd fetchStart domainLookupStart domainLookupEnd connectStart connectEnd secureConnectionStart requestStart responseStart responseEnd domLoading domInteractive domContentLoadedEventStart domContentLoadedEventEnd domComplete loadEventStart loadEventEnd".split(" "),ht=ft?ft.navigationStart:void 0,gt="downlink downlinkMax effectiveType rtt saveData type".split(" ");Qe=function(e,t,n){if(t&&"object"==typeof t){var r,a="id"in t&&t.id||tt,o=n.title||null,i=et(t,{params:n.required,fn:n.fn});if(i.missed.length)console.warn("[TopMailRu]"+(a?"["+a+"]":"")+" Error#1.14","Unspecified "+(1<i.missed.length&&i.missed.slice(0,-1).join(", ")+" and "||"")+i.missed.slice(-1)+" in "+e);else{var l=et(t,{params:n.optional,fn:n.fn});r=[].concat(i.values).concat(l.values),i=[].concat(i.missed).concat(l.missed),n.value&&(t="value"in t&&t.value,!0!==n.value&&(t=t||n.value),t?r.push("value: "+t):i.push("value")),n=r.length?"{ "+r.join(", ")+" }":"",r=i.length?"("+(1<i.length?i.slice(0,-1).join(", ")+" and "+i.slice(-1)+" are":i.slice(-1)+" is")+" empty)":"",a?console.info("[TopMailRu]["+a+"]: "+(o||e)+" "+n+" "+r):console.warn("[TopMailRu] Error#1.15","Undefined counter ID of "+e+" "+n)}}else console.warn("[TopMailRu][]["+e+"] Error#1.13")},et=function(e,t){var n,r,a,o=[],i=[];if(t.params)for(n in t.params)if(t.params.hasOwnProperty(n)&&!1!==t.params[n])if(r=n in e&&e[n],!0!==t.params[n]&&(r=r||t.params[n]),r)try{a=t.fn?t.fn:null,o.push(n+': "'+(a?a(n,r):r)+'"')}catch(e){console.warn("[TopMailRu] Error#1.16",e)}else i&&i.push(n);return{values:o,missed:i}};var yt={},bt=[];A.prototype.callbackOnReady=function(e){te&&Qe("onReady",e,{title:"OnReady callback"}),e&&"object"==typeof e&&"function"==typeof e.callback&&(e.callback.call(e.context||null),se&&bt.push(e))},A.prototype.pageView=function(e){C(e);e:if(e&&"object"==typeof e&&e.id){5>rt.length&&!a(e.id,rt)&&(rt.push(e.id),!1!==e.beat&&at.push(e.id),nt.push(e),be&&I(e)),se&&(lt[e.id]=l(!0,{},e),lt[e.id].bfCache=!0),"detectBlocker"in e&&!e.detectBlocker&&(oe=!0);var t="string"==typeof e.ecommerce,n=t&&-1!==e.ecommerce.search(/\S/);if(5>ot.length&&!a(e.id,ot)&&(!0===e.ecommerce||t&&!n||t&&n||!1!==e.ecommerce&&!t&&(a(e.id,Ae)||!a(e.id,Ce)))){if(ot.push(e.id),t&&n){if(Se&&(ye(e.ecommerce),Re!==e.ecommerce)){Re=e.ecommerce,Te&&(Te=[0,0,Re]);break e}Re=e.ecommerce,Te&&(Te=[0,0,Re])}if(t=[e.id],Se){n=0;for(var r=Me.length;n<r;n++)S(t,Me[n])}}e.timespent&&it.push(e.id)}te&&Qe("pageView",e,{title:"Page view",optional:{url:W.href}}),j(e)&&(p(P(e,"/counter",!1,!0)),qe=u())},A.prototype.reachGoal=function(e){if(C(e),te&&Qe("reachGoal",e,{title:"Reach goal",value:!0,required:{goal:!0}}),j(e)&&"goal"in e&&e.goal){var t="value"in e&&e.value&&parseInt(e.value)||"";p(P(e,"/tracker",!1,!0)+";e="+escape("RG:"+t+"/"+e.goal))}};var _t="VALUE";A.prototype.itemView=function(e){if(te&&Qe("itemView",e,{title:"Item view",optional:{list:!0,pagetype:!0,productid:!0,totalvalue:!0},fn:function(e,t){return(""+t).replace(/;/g," ")}}),j(e)){var t=e.list||"",n=e.productid||"",r=e.pagetype||"",a=e.totalvalue||0,o=function(e,t,n,r){return!t||!r||r===_t&&t===_t&&n===_t?null:(t={goal:kt+t,value:n||0,params:{product_id:r}},e&&(t.id=e),t)}(e.id,r,a,n);o&&this.reachGoal(o),(new Image).src="https://ad.mail.ru/retarget/?counter="+(e.id||tt)+"&list="+t+"&productid="+n+"&pagetype="+r+"&totalvalue="+a+"&_="+Math.random(),t="IV:"+a+"/"+(""+t).replace(/;/g," ")+";"+(""+n).replace(/;/g," ")+";"+(""+r).replace(/;/g," "),p(P(e,"/tracker",!1,!0)+";e="+escape(t))}};var kt="vk_ecom_";A.prototype.sendEvent=function(e){if(C(e),te&&Qe("sendEvent",e,{title:"Send event",value:!0,required:{category:!0,action:!0},optional:{label:!0},fn:function(e,t){return(""+t).substring(0,300).replace(/;/g," ")}}),j(e)&&"category"in e&&e.category&&"action"in e&&e.action){var t=(""+e.category).substring(0,300),n=(""+e.action).substring(0,300),r="label"in e&&e.label?(""+e.label).substring(0,300):"";t="CE:"+("value"in e&&e.value&&parseInt(e.value)||"")+"/"+(""+t).replace(/;/g," ")+";"+(""+n).replace(/;/g," ")+";"+(""+r).replace(/;/g," ");p(P(e,"/tracker",!1,!0)+";e="+escape(t))}},A.prototype.setUserID=function(e){if(null===e||!1===e||void 0===e)this.deleteUserID();else{var t=typeof e;"number"!==t&&"string"!==t?te&&console.warn("[TopMailRu] Error#1.17","Invalid user ID in setUserID"):(Fe=e,te&&console.info("[TopMailRu]: Global user ID = "+Fe))}},A.prototype.getUserID=function(){return Fe||0===Fe?Fe:void 0},A.prototype.deleteUserID=function(){Fe=null,te&&console.info("[TopMailRu]: Reset global user ID to null")},A.prototype.setUserParams=function(e){if(null===e||!1===e||void 0===e)this.deleteUserParams();else if(o(e)){try{We=l(!0,{},e)}catch(e){return void(te&&console.warn("[TopMailRu] Error#1.22","Invalid user params in setUserParams"))}te&&console.info("[TopMailRu]: Global user params = "+ue(We))}else te&&console.warn("[TopMailRu] Error#1.21","Invalid user params in setUserParams")},A.prototype.getUserParams=function(){var e=We||void 0;return e?l(!0,{},e):void 0},A.prototype.deleteUserParams=function(){We=null,te&&console.info("[TopMailRu]: Reset global user params to null")},A.prototype.getClientID=function(){return Ye||0===Ye?Ye:void 0},A.prototype._MT_event=function(e,t,n){C(e),te&&Qe(t,e,{title:n}),j(e)&&p(P(e,"/tracker",!1,!0)+";e="+escape("MT:/"+t))},A.prototype.miniAppEvent=function(e){this._MT_event(e,"miniAppEvent","VK Mini App Event")},A.prototype.startActivity=function(e){le&&(e&&"name"in e&&e.name?Be.startActivity(e.name,!!e.runInBackground):te&&console.warn("[TopMailRu] Error#1.27","Invalid startActivity command: name of activity is required"))},A.prototype.updateActivity=function(e){le&&(o(e)&&"name"in e&&e.name?i(e.name)?Be.updateActivity.apply(q,e.name):"string"==typeof e.name?Be.updateActivity(e.name):te&&console.warn("[TopMailRu] Error#1.28","Invalid updateActivity command: name of activity should be string or array of string"):Be.updateActivity())},A.prototype.stopActivity=function(e){le&&(o(e)&&"name"in e&&e.name?i(e.name)?Be.stopActivity.apply(q,e.name.concat(!!e.stopAutoActivities)):"string"==typeof e.name?Be.stopActivity(e.name,!!e.stopAutoActivities):te&&console.warn("[TopMailRu] Error#1.29","Invalid stopActivity command: name of activity should be string or array of string"):Be.stopActivity(!!e&&!!e.stopAutoActivities))},A.prototype.processEvent=function(e,t){if(e&&"object"==typeof e)if("type"in e){if("onready"===e.type){if(t&&0>t)return;this.callbackOnReady(e)}else if(t&&0<t)return;switch(e.type){case"pageView":this.pageView(e);break;case"reachGoal":this.reachGoal(e);break;case"itemView":this.itemView(e);break;case"sendEvent":this.sendEvent(e);break;case"setUserID":"userid"in e&&this.setUserID(e.userid);break;case"deleteUserID":this.deleteUserID();break;case"setUserParams":"params"in e&&this.setUserParams(e.params);break;case"deleteUserParams":this.deleteUserParams();break;case"miniAppEvent":this.miniAppEvent(e);break;case"startActivity":this.startActivity(e);break;case"updateActivity":this.updateActivity(e);break;case"stopActivity":this.stopActivity(e)}}else te&&console.warn("[TopMailRu] Error#1.19","Unspecified type of push event");else te&&console.warn("[TopMailRu] Error#1.18","Invalid push event")},A.prototype.push=function(e){for(var t=0,n=arguments.length;t<n;t++)this.processEvent(arguments[t])};var wt=!1;A.prototype.onready=function(){wt||(wt=!0,!oe&&!be&&Ee(U,V),ye(Re))};var Et=!1;A.prototype.onload=function(){if(!Et){if(Et=!0,Je=u(),!X&&0<nt.length){for(var e=";e="+escape("RT/load")+";et="+Je,t=0;t<nt.length;t++)p(P(nt[t],"/tracker",!0,!0)+e);qe=Je}re||(yt.pvt2=setTimeout((function(){N(2)}),2e3)),ae||(yt.pvt15=setTimeout((function(){N(15)}),15e3))}},A.prototype.beat=function(){if(!ne&&He){var e=u();if(!(12e4<e-He)){if(12e4<e-qe)for(var t=";e="+escape("RT/resend")+";et="+Je,n=0;n<nt.length;n++)!1!==nt[n].beat&&p(P(nt[n],"/tracker",!1,!0)+t);else 0<at.length&&p("/tracker?"+_({js:"13",id:at[0],e:"RT/beat",sid:Ge,ids:at.join(),ver:ze,_:Math.random()},";"));qe=e}}};var Tt=!1;A.prototype.unload=function(){if(!Tt){if(Tt=!0,!X){var e;if(e=(e=L())?u()-e:void 0,e=";e="+escape("RT/unload")+";et="+u()+(e?";pvt="+escape(e):""),Ue.support){var t=Ue.getLog();e+=";vtauto="+t.auto}for(t=0;t<nt.length;t++)p(P(nt[t],"/tracker",!1,!0)+e)}se&&(yt.pvt2&&(clearTimeout(yt.pvt2),delete yt.pvt2),yt.pvt15&&(clearTimeout(yt.pvt15),delete yt.pvt15),yt.beat&&(clearInterval(yt.beat),delete yt.beat))}},A.prototype.activity=function(e){He=u()};var xt=_tmr;_tmr=new A;for(var Rt,It=0,St=xt.length;It<St;It++)(Rt=xt[It])&&"object"==typeof Rt&&C(Rt);for(le&&(Be.init(),Be.start()),It=0,St=xt.length;It<St;It++)Rt=xt[It],_tmr.processEvent(Rt,1);for(It=0,St=xt.length;It<St;It++)Rt=xt[It],_tmr.processEvent(Rt,-1);if("complete"===F.readyState||"loading"!==F.readyState&&!F.documentElement.doScroll?_tmr.onready():F.addEventListener?e(F,"DOMContentLoaded",B):F.attachEvent&&e(F,"readystatechange",B),"complete"===F.readyState?_tmr.onload():e(q,se?"pageshow":"load",z),se?e(q,"pagehide",H):(e(q,"unload",H),e(q,"beforeunload",H)),$(),!ne)try{var Mt="scroll gesturechange touchmove mousedown mousemove mouseup touch".split(" "),At=function(t){e(F,t,(function(){_tmr.activity(t)}))};for(It=0;It<Mt.length;It++)At(Mt[It]);e(q,"scroll",(function(){_tmr.activity("scallback")}))}catch(e){te&&console.warn("[TopMailRu] Error#1.20",e)}}var Ct,Ot}();